<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Media Results</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- JS, Popper.js, and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Social Media Header -->
    <div class="d-flex top-bar">
        <div class="d-flex justify-content-start">
            <span><a href="#" class="fa fa-facebook" data-toggle="tooltip" data-placement="bottom" title="facebook"></a></span>
            <span><a href="#" class="fa fa-instagram" data-toggle="tooltip" data-placement="bottom" title="instagram"></a></span>
            <span><a href="#" class="fa fa-youtube-play" data-toggle="tooltip" data-placement="bottom" title="youtube"></a></span>
        </div>
        <div class="d-flex justify-content-end">
            <span class="store"><a href="https://store.brooklyntabernacle.org/" class="top-bar-right">Online Store</a></span>
            <span class="contact"><a href="#" class="top-bar-right">Contact us</a></span>
            <span class="button-default"><a class="no-left-border" href="https://thebrooklyntab.wpengine.com/shop-online/"></a>Giving</span>
        </div>
    </div>
    <div class="sticky-top header_shadow header">
        <div class="d-flex justify-content-center">
            <a href="index.html"><img  class="logo" id="bt-logo" src="BT-Logo-800.png"></a>
        </div>
        <!---- Responsive Navbar - Right Hamburger Menu ---->
        <nav class="navbar navbar-expand-xl navbar-light">
            <a class="navbar-brand" href="#"></a>
            
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main_nav">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="main_nav">   
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link nav-uppercase nav-menu-item" href="https://thebrooklyntab.wpengine.com/our-team/" data-toggle="dropdown">About</a>
                            <ul class="dropdown-menu">
                                <a class="nav-link" href="#"><h6 class="title">About Us</h6></a>
                                <li><a class="dropdown-item submenu-list" href="#">Our Story</a></li>
                                <li><a class="dropdown-item submenu-list" href="#">Our Belief</a></li>
                                <li><a class="dropdown-item submenu-list" href="#">Our Pastors</a></li>
                            </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link nav-uppercase nav-menu-item" href="#" data-toggle="dropdown">Connect</a>
                        <ul class="dropdown-menu">
                            <a class="nav-link" href="#"><h6 class="title">Ministries</h6></a>
                            <li><a class="dropdown-item submenu-list" href="#">Children's Ministry (Ages Newborn - 12)</a></li>
                            <li><a class="dropdown-item submenu-list" href="#"> Youth Ministry (Ages 13-18)</a></li>
                            <li><a class="dropdown-item submenu-list" href="#"> Young Adult Ministry (Ages 19-29)</a></li>
                            <li><a class="dropdown-item submenu-list" href="#"> Women's Ministry</a></li>
                            <li><a class="dropdown-item submenu-list" href="#"> Marriage Ministry</a></li>
                            <li><a class="dropdown-item submenu-list" href="#"> Global Missions </a></li>
                            <li><a class="dropdown-item submenu-list" href="#"> Other Ministries</a></li>
                        </ul>
                    </li>
                    <li class="nav-item nav-uppercase"><a class="nav-link nav-menu-item" href="https://thebrooklyntab.wpengine.com/our-team-2/">Choir</a></li>
                    <li class="nav-item nav-uppercase"><a class="nav-link nav-menu-item" href="https://thebrooklyntab.wpengine.com/media-2/">Grow</a></li>
                    <li class="nav-item nav-uppercase"><a class="nav-link nav-menu-item" href="https://thebrooklyntab.wpengine.com/care/">Care</a></li>
                    <li class="nav-item nav-uppercase"><a class="nav-link nav-menu-item" href="https://thebrooklyntab.wpengine.com/calendar-2-2/">Events</a></li>
                    <li class="nav-item dropdown has-megamenu">
                        <a class="nav-link nav-uppercase nav-menu-item" href="#" data-toggle="dropdown" aria-expanded="false"> Media </a>
                        <div class="dropdown-menu megamenu col-8" role="menu">
                            <div class="row flex flex-wrap">
                                <div class="col-md-3">
                                    <div class="col-megamenu">
                                        <h6 class="title-megamenu">Daily Devotions</h6>
                                        <a href="devo_media.html"><div class="zoom-container"><img class="zoom" src="https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Daily-Devotions-Online-Slide-R2-1.jpg" width="331" height="186" class="img-fluid rounded mx-auto d-block" alt="Daily Devotions"></div></a>
                                    </div> <!-- col-megamenu.// -->
                                </div><!-- end col-1 --> 
                                <div class="col-md-3">
                                    <div class="col-megamenu">
                                        <h6 class="title-megamenu">Tuesday Prayer Meeting</h6>
                                        <a href="prayer_media.html"><div class="zoom-container"><img class="zoom" src="https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Screen-Shot-2020-07-24-at-12.50.49-PM.png" width="331" height="186" class="img-fluid rounded mx-auto d-block" alt="Tuesday Prayer Meetings"></div></a>
                                    </div> <!-- col-megamenu.// -->
                                </div><!-- end col-2 -->  
                                <div class="col-md-3">
                                    <div class="col-megamenu">
                                        <h6 class="title-megamenu">Sunday Worship Service</h6>
                                        <a href="sunday_media.html"><div class="zoom-container"><img class="zoom" src="https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Screen-Shot-2020-07-24-at-11.02.05-AM.png" width="331" height="186" class="img-fluid rounded mx-auto d-block" alt="Sunday Worship Services"></div></a>
                                    </div>  <!-- col-megamenu.// -->
                                </div><!-- end col-3 -->
                                <div class="col-md-3">
                                    <div class="col-megamenu">
                                        <h6 class="title-megamenu">Audio Sermons</h6>
                                        <a href="audio_media.html"><div class="zoom-container"><img class="zoom" src="https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/08/Audio-Sermons-Online-Slide.jpg" width="331" height="186" class="img-fluid rounded mx-auto d-block" alt="Audio Sermon MP3s"></div></a>
                                    </div>  <!-- col-megamenu.// -->
                                </div><!-- end col-4 -->
                            </div>
                            <div class="d-flex justify-content-start align-items-center  megamenu_search_bar">
                                <i class="fa fa-search"></i>
                                <a href="search.html">
                                    <p class="megamenu_media_search">Search The Brooklyn Tabernacle Mediaâ€¦</p>
                                </a>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item nav-uppercase"><a class="nav-link nav-menu-item" href="https://thebrooklyntab.wpengine.com/prayer-center/">Prayer</a></li>
                </ul>
            </div> <!-- navbar-collapse.// -->
        </nav>
    </div>
    <div class="form_position">
        <form id="search-form" class="media_search">
            <div class="form-group has-search">
                <span class="fa fa-search form-control-feedback" type="submit" value="Search"></span>
                <input class="form-control form_input" type="text" id="term" onfocus="this.value=''" placeholder="Search media for title, speaker, keyword, etc...">
            </div>
    </form>
    </div>
    <div class="divider-search"><hr /></div>
    <div id="selected_media" class="d-flex justify-content-center align-items-center main_video_section"></div>
    <div id="search_term" class="search_term col-md-8"></div>
    <div id="search_results" class="align-items-center align-self-center search_result col-md-8"></div>
    <div id="category" class="col-md-8"></div>
    <div id="view_more" class="col-md-8"></div>
<footer>
    <div class="flex-row justify-content-center">
        <div class="d-flex justify-content-start footer-contact">
            <img width="300" height="76" src="https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Footer-Info-copy-300x76.png" class="image wp-image-3631 attachment-medium size-medium" alt="" loading="lazy" style="max-width: 100%; height: auto;" srcset="https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Footer-Info-copy-200x51.png 200w, https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Footer-Info-copy-300x76.png 300w, https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Footer-Info-copy-400x101.png 400w, https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Footer-Info-copy-600x152.png 600w, https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Footer-Info-copy-768x194.png 768w, https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Footer-Info-copy-800x202.png 800w, https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Footer-Info-copy-1024x259.png 1024w, https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Footer-Info-copy-1200x304.png 1200w, https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Footer-Info-copy-1536x389.png 1536w, https://thebrooklyntab.wpengine.com/wp-content/uploads/2020/07/Footer-Info-copy.png 1695w" sizes="(max-width: 300px) 100vw, 300px">
        </div>
        <div class="d-flex justify-content-end footer-social">
            <span><a href="#" class="fa fa-facebook" data-toggle="tooltip" data-placement="bottom" title="facebook"></a></span>
            <span><a href="#" class="fa fa-instagram" data-toggle="tooltip" data-placement="bottom" title="instagram"></a></span>
            <span><a href="#" class="fa fa-youtube-play" data-toggle="tooltip" data-placement="bottom" title="youtube"></a></span>
        </div>
    </div>
    <script>

    // Listen for click event on media tile selection and move to main window
        document.getElementById('search_results').addEventListener('click', e => {
        e.preventDefault();

        // capture media ID, title & description on click of tile
        const current = e.target; // store html target
        console.log(current);
        const arr = [current]; // convert to object
        console.log(arr);
        const media = arr[0].currentSrc.slice(34, 42); // capture media ID from object property

        // clear previous search results from page
        function changeMain() {

            // scroll to main video screen
            window.scrollTo(0, 0);
            window.scroll({
                top: 50,
                left: 0, 
                behavior: 'smooth'
            });

            // on click remove current main video
            $("#selected_media").children().remove();

                // display selected content on main video screen - Individual Media Page (992px x 558px)
                const html = 
                    `
                        <div class="main_video_search_page">
                            <div style="position:relative; overflow:hidden; padding-bottom:56.25%">
                                <iframe src ="https://cdn.jwplayer.com/players/${media}-40YHK51f.html" width="100%" height="100%" frameborder="0" scrolling="auto" style="position:absolute;" allowfullscreen></iframe>
                            </div>
                        </div>
                    `;
                document.querySelector('#selected_media').insertAdjacentHTML('afterbegin', html);
        }
        
        changeMain();
        
    });

    </script>
    <script>
            // Listen for click event on search input field and clear page
            document.getElementById('term').addEventListener('click', e => {
            e.preventDefault();

            // capture media ID, title & description on click of tile
            const current = e.target; // store html target
            const arr = [current]; // convert to object
            const media = arr[0].currentSrc; // capture media ID from object property

            // clear previous search results from page
            function newSearch() {

                // on click remove current main video
                $("#selected_media").children().remove();
                $("#search_results").children().remove();
                $("#search_term").children().remove();
                $("#category").children().remove();
                $("#view_more").children().remove();

            }
            newSearch();
        });
    </script>

    <!--Change logo on page scroll-->
    <script>
        const header = $('header');
        const logo = $('#bt-logo');

        $(window).on('scroll', function () {   
            if ($(window).scrollTop() > 100) { 
                header.addClass('scrolled'); 
                logo.attr('src', 'BT-Logo100.png'); 
            } else { 
                header.removeClass('scrolled'); 
                logo.attr('src', 'BT-Logo-800.png'); 
            } 
        });
    </script>
</footer>
    <script src="search.js"></script>
</body>
</html>